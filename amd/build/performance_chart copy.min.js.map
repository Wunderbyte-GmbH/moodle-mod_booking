{"version":3,"file":"performance_chart copy.min.js","sources":["../src/performance_chart copy.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * AJAX helper for the inline editing a value.\n *\n * This script is automatically included from template core/inplace_editable\n * It registers a click-listener on [data-inplaceeditablelink] link (the \"inplace edit\" icon),\n * then replaces the displayed value with an input field. On \"Enter\" it sends a request\n * to web service core_update_inplace_editable, which invokes the specified callback.\n * Any exception thrown by the web service (or callback) is displayed as an error popup.\n *\n * @module     mod_booking/performance_chart\n * @copyright  2018 David Bogner\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @since      3.3\n */\n\n/* eslint-disable */\ndefine(['core/chartjs'], function(Chart) {\n\n    const init = (canvasId, dataScriptId) => {\n        const canvas = document.getElementById(canvasId);\n        if (!canvas) {\n            return;\n        }\n\n        const dataNode = document.getElementById(dataScriptId);\n        if (!dataNode) {\n            return;\n        }\n\n        let parsed;\n        try {\n            parsed = JSON.parse(dataNode.textContent);\n        } catch (e) {\n            // Invalid JSON in template.\n            return;\n        }\n\n        const labels = parsed.labels || [];\n        const datasets = (parsed.datasets || []).map(ds => ({\n            label: ds.label,\n            data: ds.data,\n            backgroundColor: ds.backgroundColor,\n        }));\n\n        new Chart(canvas.getContext('2d'), {\n            type: 'bar', // column chart\n            data: {\n                labels,\n                datasets\n            },\n            options: {\n                responsive: true,\n                maintainAspectRatio: false,\n                plugins: {\n                    legend: {\n                        position: 'right',\n                        align: 'start',\n                        labels: {\n                            boxWidth: 16,\n                            padding: 12\n                        }\n                    },\n                    tooltip: { enabled: true }\n                },\n                scales: {\n                    x: {\n                        title: {\n                            display: false\n                        }\n                    },\n                    y: {\n                        beginAtZero: true,\n                        title: {\n                            display: true,\n                            text: 'Time (ms)'\n                        }\n                    }\n                }\n            }\n        });\n    };\n\n    return { init };\n});"],"names":["define","Chart","init","canvasId","dataScriptId","canvas","document","getElementById","dataNode","parsed","JSON","parse","textContent","e","labels","datasets","map","ds","label","data","backgroundColor","getContext","type","options","responsive","maintainAspectRatio","plugins","legend","position","align","boxWidth","padding","tooltip","enabled","scales","x","title","display","y","beginAtZero","text"],"mappings":";;;;;;;;;;;;;;AA+BAA,4CAAO,CAAC,gBAAiB,SAASC,OAkE9B,MAAO,CAAEC,KAhEIA,CAACC,SAAUC,gBACpB,MAAMC,OAASC,SAASC,eAAeJ,UACvC,IAAKE,OACD,OAGJ,MAAMG,SAAWF,SAASC,eAAeH,cACzC,IAAKI,SACD,OAGJ,IAAIC,OACJ,IACIA,OAASC,KAAKC,MAAMH,SAASI,YAChC,CAAC,MAAOC,GAEL,MACJ,CAEA,MAAMC,OAASL,OAAOK,QAAU,GAC1BC,UAAYN,OAAOM,UAAY,IAAIC,IAAIC,KAAO,CAChDC,MAAOD,GAAGC,MACVC,KAAMF,GAAGE,KACTC,gBAAiBH,GAAGG,mBAGxB,IAAInB,MAAMI,OAAOgB,WAAW,MAAO,CAC/BC,KAAM,MACNH,KAAM,CACFL,cACAC,mBAEJQ,QAAS,CACLC,YAAY,EACZC,qBAAqB,EACrBC,QAAS,CACLC,OAAQ,CACJC,SAAU,QACVC,MAAO,QACPf,OAAQ,CACJgB,SAAU,GACVC,QAAS,KAGjBC,QAAS,CAAEC,SAAS,IAExBC,OAAQ,CACJC,EAAG,CACCC,MAAO,CACHC,SAAS,IAGjBC,EAAG,CACCC,aAAa,EACbH,MAAO,CACHC,SAAS,EACTG,KAAM,mBASlC"}