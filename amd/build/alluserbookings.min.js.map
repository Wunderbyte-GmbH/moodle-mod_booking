{"version":3,"file":"alluserbookings.min.js","sources":["../src/alluserbookings.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * AJAX helper for the inline editing a value.\n *\n * This script is automatically included from template core/inplace_editable\n * It registers a click-listener on [data-inplaceeditablelink] link (the \"inplace edit\" icon),\n * then replaces the displayed value with an input field. On \"Enter\" it sends a request\n * to web service core_update_inplace_editable, which invokes the specified callback.\n * Any exception thrown by the web service (or callback) is displayed as an error popup.\n *\n * @module     mod_booking/alluserbookings\n * @package\n * @copyright  2022 Andraž Prinčič\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @since      4.5\n */\n\ndefine(['jquery', 'core/str', 'core/notification'], function ($, str, notification) {\n    return {\n        init: function () {\n            /**\n             * Hide all.\n             */\n            function HideAll() {\n                $('#downloadtype_block_transferoption').hide();\n                $('#downloadtype_block_selectpresencestatus').hide();\n                $('#downloadtype_block_booktootherbooking').hide();\n\n                if ($('#downloadtype_massactions').val() == \"transferheading\") {\n                    $('#downloadtype_block_transferoption').show();\n                }\n\n                if ($('#downloadtype_massactions').val() == \"changepresencestatus\") {\n                    $('#downloadtype_block_selectpresencestatus').show();\n                }\n\n                if ($('#downloadtype_massactions').val() == \"connectedbookings\") {\n                    $('#downloadtype_block_booktootherbooking').show();\n                }\n            }\n\n            HideAll();\n\n            $('#downloadtype_massactions').on('change', function () {\n                HideAll();\n            });\n\n            $('#downloadtype_button_massactions').on('click', function () {\n                if ($('#downloadtype_massactions').val() == \"generaterecnum\") {\n                    notification.confirm(str.get_string('areyousure', 'mod_booking'),\n                        str.get_string('generaterecnumareyousure', 'mod_booking'), str.get_string('yes'),\n                        str.get_string('no'), function () {\n                            $('#studentsform').submit();\n                        });\n                    return false;\n                }\n            });\n        }\n    };\n});"],"names":["define","$","str","notification","init","HideAll","hide","val","show","on","confirm","get_string","submit"],"mappings":";;;;;;;;;;;;;;;AA+BAA,qCAAO,CAAC,SAAU,WAAY,sBAAsB,SAAUC,EAAGC,IAAKC,oBAC3D,CACHC,KAAM,oBAIOC,UACLJ,EAAE,sCAAsCK,OACxCL,EAAE,4CAA4CK,OAC9CL,EAAE,0CAA0CK,OAEA,mBAAxCL,EAAE,6BAA6BM,OAC/BN,EAAE,sCAAsCO,OAGA,wBAAxCP,EAAE,6BAA6BM,OAC/BN,EAAE,4CAA4CO,OAGN,qBAAxCP,EAAE,6BAA6BM,OAC/BN,EAAE,0CAA0CO,OAIpDH,UAEAJ,EAAE,6BAA6BQ,GAAG,UAAU,WACxCJ,aAGJJ,EAAE,oCAAoCQ,GAAG,SAAS,cACF,kBAAxCR,EAAE,6BAA6BM,aAC/BJ,aAAaO,QAAQR,IAAIS,WAAW,aAAc,eAC9CT,IAAIS,WAAW,2BAA4B,eAAgBT,IAAIS,WAAW,OAC1ET,IAAIS,WAAW,OAAO,WAClBV,EAAE,iBAAiBW,aAEpB"}