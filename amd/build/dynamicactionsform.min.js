define("mod_booking/dynamicactionsform",["exports","core/str","core_form/modalform"],(function(_exports,_str,_modalform){var obj;
/*
   * @package    mod_booking
   * @author     Bernhard Fischer
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
/**
   * Dynamic semesters form.
   *
   * @module     mod_booking/dynamicactionsform
   * @copyright  2023 Wunderbyte GmbH
   * @author     Georg MaiÃŸer
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_modalform=(obj=_modalform)&&obj.__esModule?obj:{default:obj};const SELECTOR_buttons=".booking-actions-container .btn";_exports.init=()=>{console.log(SELECTOR_buttons);const elements=document.querySelectorAll(SELECTOR_buttons);console.log(elements),elements.forEach((element=>{element.addEventListener("click",(e=>{!function(element){if(!element)return;const actionid=element.dataset.id,action=element.dataset.action,optionid=element.dataset.optionid,cmid=element.dataset.cmid;if(!actionid)return;if("delete"==action){const deleteForm=new _modalform.default({formClass:"mod_booking\\form\\actions\\deleteactionsform",args:{id:actionid,cmid:cmid,optionid:optionid},modalConfig:{title:(0,_str.get_string)("deletebookingaction","mod_booking")},returnFocus:element});deleteForm.addEventListener(deleteForm.events.FORM_SUBMITTED,(()=>{window.location.reload()})),deleteForm.show()}else{if("edit-or-new"!=action)return void console.log('Error in dynamicactionsform.js: action should be "delete" or "edit-or-new".');{const modalForm=new _modalform.default({formClass:"mod_booking\\form\\actions\\actionsform",args:{id:actionid,cmid:cmid,optionid:optionid},modalConfig:{title:(0,_str.get_string)("editaction","mod_booking")},returnFocus:element});modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,(()=>{window.location.reload()})),modalForm.addEventListener("change",(e=>{if(console.log(e.target.name,e.target.value),e.target.name&&"action_type"==e.target.name){window.skipClientValidation=!0;let button=document.querySelector('[name="btn_actiontype"]');modalForm.processNoSubmitButton(button)}})),modalForm.show()}}}(e.target)}))}))}}));

//# sourceMappingURL=dynamicactionsform.min.js.map