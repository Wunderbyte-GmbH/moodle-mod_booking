define("mod_booking/dynamicsubbookingsform",["exports","core/str","core_form/modalform"],(function(_exports,_str,_modalform){var obj;
/*
   * @package    mod_booking
   * @author     Bernhard Fischer
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
/**
   * Dynamic semesters form.
   *
   * @module     mod_booking/dynamicsubbookingsform
   * @copyright  2022 Wunderbyte GmbH
   * @author     Georg Mai√üer
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_modalform=(obj=_modalform)&&obj.__esModule?obj:{default:obj};_exports.init=function(selector){document.querySelectorAll(selector).forEach((function(element){element.addEventListener("click",(function(e){!function(element){var _element$dataset$id,_element$dataset$cmid,_element$dataset$opti,_element$dataset$name;if(!element)return;var id=null!==(_element$dataset$id=element.dataset.id)&&void 0!==_element$dataset$id?_element$dataset$id:0,cmid=null!==(_element$dataset$cmid=element.dataset.cmid)&&void 0!==_element$dataset$cmid?_element$dataset$cmid:0,optionid=null!==(_element$dataset$opti=element.dataset.optionid)&&void 0!==_element$dataset$opti?_element$dataset$opti:0,name=null!==(_element$dataset$name=element.dataset.name)&&void 0!==_element$dataset$name?_element$dataset$name:"",action=element.dataset.action;if("delete"==action){var deleteForm=new _modalform.default({formClass:"mod_booking\\form\\subbookingsdeleteform",args:{cmid:cmid,optionid:optionid,id:id,name:name},modalConfig:{title:(0,_str.get_string)("bookingsubbookingdelete","mod_booking")},returnFocus:element});deleteForm.addEventListener(deleteForm.events.FORM_SUBMITTED,(function(){window.location.reload()})),deleteForm.show()}else{if("add"!=action&&"edit"!=action)return;var modalForm=new _modalform.default({formClass:"mod_booking\\form\\subbookingsform",args:{cmid:cmid,optionid:optionid,id:id,name:name},modalConfig:{title:(0,_str.get_string)("editsubbooking","mod_booking")},returnFocus:element});modalForm.addEventListener(modalForm.events.FORM_SUBMITTED,(function(){window.location.reload()})),modalForm.addEventListener("change",(function(e){if(e.target.name&&"subbooking_type"==e.target.name){window.skipClientValidation=!0;var button=document.querySelector('[name="btn_subbookingtype"]');modalForm.processNoSubmitButton(button)}})),modalForm.show()}}(e.target)}))}))}}));

//# sourceMappingURL=dynamicsubbookingsform.min.js.map