define("mod_booking/button_notifyme",["exports","core/ajax","core/str"],(function(_exports,_ajax,_str){var obj;
/*
   * @package    mod_booking
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.toggleNotifiy=_exports.init=void 0,_ajax=(obj=_ajax)&&obj.__esModule?obj:{default:obj};_exports.init=()=>{const buttons=document.querySelectorAll(".booking-button-notify-me");buttons&&buttons.forEach((button=>{if(button.dataset.initialized)return;const userid=button.dataset.userid,itemid=button.dataset.itemid;button.addEventListener("click",(()=>{toggleNotifiy(button,userid,itemid)})),button.dataset.initialized=!0}))};const toggleNotifiy=(button,userid,optionid)=>{_ajax.default.call([{methodname:"mod_booking_toggle_notify_user",args:{userid:userid,optionid:optionid},done:function(res){return function(button,status){const statusstring=1==status?"alreadyonlist":"notifyme";(0,_str.get_string)(statusstring,"mod_booking").then((res=>{button.innerHTML=1==status?'<i class="fa fa-bell" aria-hidden="true"></i>':'<i class="fa fa-bell-o" aria-hidden="true"></i>',button.setAttribute("title",res),button.removeAttribute("data-original-title")})).catch((e=>{console.log(e)}))}(button,res.status),!0},fail:function(err){console.log("something went wrong",err)}}])};_exports.toggleNotifiy=toggleNotifiy}));

//# sourceMappingURL=button_notifyme.min.js.map