define("mod_booking/dynamiceditoptionform",["exports","core_form/dynamicform"],(function(_exports,_dynamicform){var obj;
/*
   * @package    mod_booking
   * @author     Georg Maißer
   * @copyright  Wunderbyte GmbH <info@wunderbyte.at>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */
/**
   * Dynamic edit option form.
   *
   * @module     mod_booking/dynamiceditoptionform
   * @copyright  2023 Wunderbyte GmbH
   * @author     Georg Maißer
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_dynamicform=(obj=_dynamicform)&&obj.__esModule?obj:{default:obj};function hidecheckbox(checkbox1,checkbox2,closest,conditionalCheckbox,withelse){null!==closest&&(checkbox1.checked||checkbox2.checked?withelse&&(closest.style.display=""):(conditionalCheckbox.value="",conditionalCheckbox.checked=!1,closest.style.display="none"))}_exports.init=(cmid,id,optionid,bookingid,copyoptionid,returnurl)=>{console.log("params: ",cmid,id,optionid,bookingid,copyoptionid,returnurl);const element=document.querySelector("#editoptionsformcontainer");console.log(element);const dynamicForm=new _dynamicform.default(element,"mod_booking\\form\\option_form");console.log(dynamicForm),dynamicForm.addEventListener(dynamicForm.events.FORM_SUBMITTED,(e=>{e.preventDefault();const response=e.detail;response.returnurl&&response.returnurl.length>0&&(window.location.href=response.returnurl),console.log(response),dynamicForm.load(e.detail)})),dynamicForm.addEventListener(dynamicForm.events.FORM_CANCELLED,(e=>{e.preventDefault(),returnurl&&returnurl.length>0?window.location.href=returnurl:dynamicForm.load([cmid,id,optionid,bookingid,copyoptionid,returnurl])}));var checkbox1=document.querySelector('[name="restrictanswerperiodopening"]'),checkbox2=document.querySelector('[name="restrictanswerperiodclosing"]'),conditionalCheckbox=document.querySelector('[name="bo_cond_booking_time_sqlfiltercheck"]');let closest=conditionalCheckbox.closest('[class^="form-group row"],[class*=" fitem"]');dynamicForm.addEventListener("change",(e=>{if(console.log(e),"optiontemplateid"==e.target.name){window.skipClientValidation=!0;let button=document.querySelector('[name="btn_changetemplate"]');dynamicForm.processNoSubmitButton(button)}"restrictanswerperiodopening"!=e.target.name&&"restrictanswerperiodclosing"!=e.target.name||hidecheckbox(checkbox1,checkbox2,closest,conditionalCheckbox,!0)})),hidecheckbox(checkbox1,checkbox2,closest,conditionalCheckbox,!1)}}));

//# sourceMappingURL=dynamiceditoptionform.min.js.map